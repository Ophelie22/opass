{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL;\nexport const fetchPackages = async (regionId, token) => {\n  const response = await axios.get(`${API_URL}/${regionId}/packages`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data.packages; // Retourne uniquement les packages\n};\nexport const fetchRegion = async (regionId, token) => {\n  const response = await axios.get(`${API_URL}/${regionId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data.sites; // Retourne uniquement les sites\n};\nexport const fetchSites = async (regionId, token) => {\n  const response = await axios.get(`${API_URL}/${regionId}/sites`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data.sites; // Retourne uniquement les sites\n};\nexport const addSite = async (regionId, siteData, token) => {\n  const response = await axios.post(`${API_URL}/${regionId}/sites`, siteData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data.site;\n};\nexport const deleteSite = async (regionId, siteId, token) => {\n  await axios.delete(`${API_URL}/${regionId}/sites/${siteId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","fetchPackages","regionId","token","response","get","headers","Authorization","data","packages","fetchRegion","sites","fetchSites","addSite","siteData","post","site","deleteSite","siteId","delete"],"sources":["C:/Users/ydzbi/Documents/opass/projet-08-o-pass/backoffice/src/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchPackages = async (regionId: number, token: string) => {\r\n    const response = await axios.get(`${API_URL}/${regionId}/packages`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data.packages; // Retourne uniquement les packages\r\n};\r\n\r\n\r\nexport const fetchRegion = async (regionId: number, token: string) => {\r\n    const response = await axios.get(`${API_URL}/${regionId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data.sites; // Retourne uniquement les sites\r\n};\r\nexport const fetchSites = async (regionId: number, token: string) => {\r\n    const response = await axios.get(`${API_URL}/${regionId}/sites`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data.sites; // Retourne uniquement les sites\r\n};\r\n\r\nexport const addSite = async (regionId: number, siteData: { name: string; url: string; description: string }, token: string) => {\r\n    const response = await axios.post(`${API_URL}/${regionId}/sites`, siteData, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data.site;\r\n};\r\n\r\nexport const deleteSite = async (regionId: number, siteId: number, token: string) => {\r\n    await axios.delete(`${API_URL}/${regionId}/sites/${siteId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,KAAa,KAAK;EACpE,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,OAAO,IAAIK,QAAQ,WAAW,EAAE;IAChEI,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACI,IAAI,CAACC,QAAQ,CAAC,CAAC;AACnC,CAAC;AAGD,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOR,QAAgB,EAAEC,KAAa,KAAK;EAClE,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,OAAO,IAAIK,QAAQ,EAAE,EAAE;IACvDI,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACI,IAAI,CAACG,KAAK,CAAC,CAAC;AAChC,CAAC;AACD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOV,QAAgB,EAAEC,KAAa,KAAK;EACjE,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,OAAO,IAAIK,QAAQ,QAAQ,EAAE;IAC7DI,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACI,IAAI,CAACG,KAAK,CAAC,CAAC;AAChC,CAAC;AAED,OAAO,MAAME,OAAO,GAAG,MAAAA,CAAOX,QAAgB,EAAEY,QAA4D,EAAEX,KAAa,KAAK;EAC5H,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACmB,IAAI,CAAC,GAAGlB,OAAO,IAAIK,QAAQ,QAAQ,EAAEY,QAAQ,EAAE;IACxER,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACI,IAAI,CAACQ,IAAI;AAC7B,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOf,QAAgB,EAAEgB,MAAc,EAAEf,KAAa,KAAK;EACjF,MAAMP,KAAK,CAACuB,MAAM,CAAC,GAAGtB,OAAO,IAAIK,QAAQ,UAAUgB,MAAM,EAAE,EAAE;IACzDZ,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}